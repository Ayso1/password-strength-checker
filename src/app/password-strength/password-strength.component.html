<div class="div">
  <mat-form-field>
    <input
      matInput
      [type]="showPassword ? 'text' : 'password'"
      [(ngModel)]="password"
      (input)="checkPasswordStrength()"
      placeholder="Enter password"
    />
    <button
      mat-icon-button
      matSuffix
      class="password-toggle-button"
      (click)="togglePasswordVisibility()"
      [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'"
      [attr.title]="showPassword ? 'Hide password' : 'Show password'"
    >
      <mat-icon>{{ showPassword ? "visibility_off" : "visibility" }}</mat-icon>
    </button>
  </mat-form-field>

  <div
    class="strength-section"
    [ngClass]="{
      red: isPasswordSmall() || isPasswordEasy(),
      gray: !password,
      yellow: isPasswordMedium(),
      green: isPasswordStrong()
    }"
  >
    <span>Weak</span>
  </div>
  <div
    class="strength-section"
    [ngClass]="{
      red: isPasswordSmall(),
      gray: !password || isPasswordEasy(),
      yellow: isPasswordMedium(),
      green: isPasswordStrong()
    }"
  >
    <span>Medium</span>
  </div>
  <div
    class="strength-section"
    [ngClass]="{
      red: isPasswordSmall(),
      gray: !password || isPasswordEasy() || isPasswordMedium(),
      green: isPasswordStrong()
    }"
  >
    <span>Strong</span>
  </div>
</div>
